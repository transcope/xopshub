# 异常检测数据集详细介绍
这是AIOps相关异常检测数据集的详细介绍。

## KPI

### 数据集介绍
这是2018AIOps挑战赛决赛数据集，收集了不同互联网企业2016-2017年近6个月内多达29种不同的KPI指标和相应标签，其中大多数KPI采集间隔时间为1分钟，而部分KPI的采集间隔时间为5分钟。

### 数据集获取
KPI异常检测数据集包含训练数据 `phase2_train.csv.zip` 和测试数据 `phase2_ground_truth.hdf.zip`，需进行解压 `unzip phase2_train.csv.zip & unzip phase2_ground_truth.hdf.zip`

### 数据集样例
KPI数据如下表所示，包括四列：KPI ID，时间戳（timestamp），KPI在该时刻对应的数值（value），以及该时刻是否异常（label：0 表示正常数据点， 1 表示异常数据点）。请注意，此数据集包含数据缺失点（通过timestamp可以发现）。

| KPI ID | timestamp | value | label |
| :---- | :---- | :---- | :---- |
| da10a69f-d836-3baa-ad40-3e548ecf1fbd | 1503831000 | 10.8	| 0 |
| da10a69f-d836-3baa-ad40-3e548ecf1fbd | 1503831060 | 12.3 | 1 |
| ... | ... | ... | ... |

### 数据集描述
该数据集详细统计情况如下：

| | KPI种类 | 数据集大小 | 数据缺失率 | 异常占比 |
| :---- | :----: | :----: | :----: | :----: |
| 训练集 | 29 | 3073567 | 2.26% | 2.59% | 
| 测试集 | 29 | 3073556 | 5.03% | 1.78% | 

## Yahoo

### 数据集介绍
这是Yahoo Labs提供的时间序列异常检测的benchmark数据集，其中所有时间序列的采集间隔时间为1小时。该数据集包含四部分（A1/A2/A3/A4），其中A1部分是实际生产流量数据并且完成人工标注，其余三部分均为合成数据并且标签均为算法随机生成。本项目将只采用其中A1部分的真实数据进行测试。

### 数据集获取
由于相关协议要求无法上传数据集，可以在[下载链接](https://yahooresearch.tumblr.com/post/114590420346/a-benchmark-dataset-for-time-series-anomaly)下载后改名 `Yahoo` 放入本目录下。

### 数据集样例
Yahoo数据如下表所示，包括三列：时间戳（timestamp），KPI在该时刻对应的数值（value），以及该时刻是否异常（is_anomaly：0 表示正常数据点， 1 表示异常数据点）。其中，时间戳由正整数替代，表示间隔1小时。

| timestamp | value | is_anomaly |
| :---- | :---- | :---- |
| 1 | 10.8	| 0 |
| 2 | 12.3 | 1 |
| ... | ... | ... |

### 数据集描述
根据本数据集的标签分布情况，无法切分训练集和测试集，将整个数据集都作为测试集，因此只适用于无监督异常检测算法。该数据集详细统计情况如下：

| | KPI种类 | 数据集大小 | 数据缺失率 | 异常占比 |
| :---- | :----: | :----: | :----: | :----: |
| 测试集 | 64 | 90575 | 0.00% | 1.84% | 

## AWS

### 数据集介绍
这是Numenta Anomaly Benchmark (NAB)中的AWS监控指标数据集，包括CPU使用率、网络流量、磁盘读写等指标。它是通过AmazonCloudwatch服务进行采集，采集间隔时间为5分钟。

### 数据集获取
AWS异常检测数据集包含一些指标数据（`csv` 文件）和标签数据（`json` 文件）。

### 数据集样例
* AWS指标数据如下表所示，包括两列：时间戳（timestamp），KPI在该时刻对应的数值（value）。

| timestamp | value |
| :---- | :---- |
| 2014-02-14 14:45:00 | 10.8 |
| 2014-02-14 14:50:00 | 12.3 |
| ... | ... |

* AWS标签数据如下所示，包含 `combined_labels.json` 和 `combined_windows.json`，其中两者的key均为指标文件名，前者的value表示由异常时间点组成的列表，后者的value表示由异常时间窗口组成的列表。

```
# combined_labels.json
{
    "ec2_cpu_utilization_24ae8d.csv": [
        "2014-02-26 22:05:00",
        "2014-02-27 17:15:00"
    ],
    ...
}
# combined_windows.json
{
    "ec2_cpu_utilization_24ae8d.csv": [
        [
            "2014-02-26 13:45:00",
            "2014-02-27 06:25:00"
        ],
        [
            "2014-02-27 08:55:00",
            "2014-02-28 01:35:00"
        ]
    ],
    ...
}
```

### 数据集描述
根据本数据集的标签分布情况，无法切分训练集和测试集，将整个数据集都作为测试集，因此只适用于无监督异常检测算法。该数据集详细统计情况如下：

| | KPI种类 | 数据集大小 | 数据缺失率 | 异常占比 |
| :---- | :----: | :----: | :----: | :----: |
| 测试集 | 16 | 63726 | 0.03% | 9.91% | 