# 国际AIOPS挑战赛
这里是对2022年AIOPS比赛相关数据进行分析，通过借鉴和融合参赛胜选方案，旨在重构性能更优的，符合实际应用的解决方案。

## 数据说明
这里主要使用初赛数据集，其中故障数据集包括
-	三个集群（cloudbed1，cloudbed2，cloudbed3）；
-	三天数据，其中两天（2022-03-20，2022-03-21）包括三个集群故障数据，一天（2022-03-24）包括cloudbed3的故障数据；
-	三大类型监控数据（日志、指标、以及调用链）；
首先处理指标数据，指标数据又分为节点（node）、容器（container）、服务（service）、虚机（jvm）、网络（istio）。这里以节点的指标数据为例，分析及方案调试。

数据分析试验以集群cloudbed1节点故障数据为主要分析对象，包括六个字段，分别是：cmdb对象（cmdb_id）、指标（kpi_name）、时间戳（timestamp）、指标数值（value），以及手动添加的集群（cloud）、日期（date）。数据集样例如下所示：

| timestamp | cmdb_id | kpi_name | value | cloud | date |
|  :----:  |  :----:  | :---- | :---- |   :----:   |  :----:  |
| 1647705600 | node-1 | system.cpu.iowait	| 0.31 | cloudbed1 | 2022-03-20 |
| 1647705600 | node-1 | system.net.packets_out.erro | 0.00 | cloudbed1 | 2022-03-20 |
| ... | ... | ... | ... | ... | ... |

该数据集详细统计情况如下：
| | KPI种类 | 数据集大小 | 时间天数 | 
| :---- | :----: | :----: | :----: | 
| 数据集 | 59 | 163872 | 2 | 

## 方案总览
将问题进行拆解，分为故障预警以及故障分析两个步骤。
步骤一，故障预警。采用多个异常检测器进行集合学习，输出故障报警。
步骤二，故障分析。采用集合学习的方式进行故障分类。
该方案特征在于全流程集合学习，即在每一个环节采用多种方式进行处理、分析、打标、学习、以及结果融合。

<p align="center">
  <img src="../image/aiops_competition_pic/flow_v2.png" width="600"/>
</p>

## 预处理
不同指标存在各方面（物理意义、数据类型、数值范围，等）存在较大差异性，对后续分析和应用存在较大不确性影响。目前已落地三个预处理操作，具体是：
- 剔除部分（单值）指标
- 缩放部分（超大空间）指标
- 时空对齐（空值填充）


